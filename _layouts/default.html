<!DOCTYPE html>
<html lang="en" data-baseurl="{{ site.baseurl }}">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="icon" href="{{ site.baseurl }}/{{site.favicon}}">

<title>{{ page.title }} | {{site.title}}</title>

{% seo %}

<link href="{{ site.baseurl }}/assets/css/theme.css" rel="stylesheet">

<!-- custom CSS - Remove this if you don't use it or choose to customize the stylesheet with sass-->
<link href="{{ site.baseurl }}/assets/css/custom.css" rel="stylesheet">
<!-- custom CSS end-->

<!-- Font Awesome for search icon -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

{% if jekyll.environment == "production" %}       
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id={{site.ganalytics}}"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', '{{site.ganalytics}}');
</script>
{% endif %}
   
</head>   
    
{% capture layout %}{% if page.layout %}layout-{{ page.layout }}{% endif %}{% endcapture %}
<body class="{{ layout }}{% if page.url == '/' %} page-home{% endif %}">

    
<!-- Documentation Header with Horizontal Navigation
================================================== -->
<header class="docs-header">
  <div class="container-fluid">
    <!-- Top Row: Logo, Title, and Right Links -->
    <nav class="navbar navbar-expand-lg">
      <!-- Logo and Title -->
      <a class="navbar-brand" href="{{site.baseurl}}/">
        {% if site.logo %}
        <img src="{{site.baseurl}}/{{site.logo}}" alt="{{site.title}}" class="navbar-logo">
        {% endif %}
        <span class="navbar-title">{{ site.title }}</span>
      </a>

      <!-- Mobile Sidebar Toggle -->
      <button class="navbar-toggler d-lg-none" type="button" onclick="toggleMobileSidebar()" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Right Navigation -->
      <div class="navbar-nav ms-auto">
        <a class="nav-link" href="https://github.com/dalebar/viaductecho-backend/releases/download/v1.0.0/app-release.apk">Download App</a>
      </div>
    </nav>

    <!-- Bottom Row: Horizontal Section Navigation -->
    <div class="horizontal-nav">
      <nav class="section-tabs">
        <a href="{{ '/' | relative_url }}" class="section-tab {% if page.url == '/' %}active{% endif %}">
          Local News
        </a>
        <a href="{{ '/events/' | relative_url }}" class="section-tab {% if page.url contains '/events/' %}active{% endif %}">
          Events
          <span class="tab-badge">Coming Soon</span>
        </a>
        <a href="{{ '/places/' | relative_url }}" class="section-tab {% if page.url contains '/places/' %}active{% endif %}">
          Places
          <span class="tab-badge">Coming Soon</span>
        </a>
        <a href="{{ '/offers/' | relative_url }}" class="section-tab {% if page.url contains '/offers/' %}active{% endif %}">
          Offers
          <span class="tab-badge">Coming Soon</span>
        </a>
      </nav>
    </div>
  </div>
</header>  


<!-- Documentation Layout
================================================== -->
<div class="docs-layout">
  <!-- Left Sidebar: Sub-Section Navigation -->
  <nav class="docs-sidebar">
    <div class="sidebar-content">
      <div class="sidebar-nav">
        {% if page.url == '/' %}
          <!-- <ul class="nav-subsections">
            <li class="nav-subsection">
              <a href="{{ '/' | relative_url }}" class="nav-subsection-link">Latest News</a>
            </li>
          </ul> -->
        {% elsif page.url contains '/news/' %}
          <ul class="nav-subsections">
            <li class="nav-subsection">
              <a href="#recent" class="nav-subsection-link active">Recent Articles</a>
            </li>
            <li class="nav-subsection">
              <a href="#featured" class="nav-subsection-link">Featured Stories</a>
            </li>
            <li class="nav-subsection">
              <a href="#categories" class="nav-subsection-link">Categories</a>
            </li>
            <li class="nav-subsection">
              <a href="#archive" class="nav-subsection-link">Archive</a>
            </li>
          </ul>
        {% elsif page.url contains '/events/' %}
          <ul class="nav-subsections">
            <li class="nav-subsection">
              <a href="#upcoming" class="nav-subsection-link active">Upcoming Events</a>
            </li>
            <li class="nav-subsection">
              <a href="#categories" class="nav-subsection-link">Event Categories</a>
            </li>
            <li class="nav-subsection">
              <a href="#venues" class="nav-subsection-link">Venues</a>
            </li>
          </ul>
        {% elsif page.url contains '/directory/' %}
          <ul class="nav-subsections">
            <li class="nav-subsection">
              <a href="#restaurants" class="nav-subsection-link active">Restaurants</a>
            </li>
            <li class="nav-subsection">
              <a href="#retail" class="nav-subsection-link">Retail & Shopping</a>
            </li>
            <li class="nav-subsection">
              <a href="#services" class="nav-subsection-link">Professional Services</a>
            </li>
            <li class="nav-subsection">
              <a href="#health" class="nav-subsection-link">Health & Wellness</a>
            </li>
          </ul>
        {% elsif page.url contains '/offers/' %}
          <ul class="nav-subsections">
            <li class="nav-subsection">
              <a href="#current" class="nav-subsection-link active">Current Offers</a>
            </li>
            <li class="nav-subsection">
              <a href="#dining" class="nav-subsection-link">Dining Deals</a>
            </li>
            <li class="nav-subsection">
              <a href="#retail" class="nav-subsection-link">Retail Discounts</a>
            </li>
            <li class="nav-subsection">
              <a href="#services" class="nav-subsection-link">Service Specials</a>
            </li>
          </ul>
        {% else %}
          <!-- <ul class="nav-subsections">
            <li class="nav-subsection">
              <a href="{{ '/' | relative_url }}" class="nav-subsection-link">Latest News</a>
            </li>
          </ul> -->
        {% endif %}
      </div>
    </div>
  </nav>

  <!-- Main Content Area -->
  <main class="docs-content">
    <div class="content-wrapper">
      {{ content }}
    </div>
  </main>
</div>

<!-- Footer
================================================== -->    
<footer class="footer container-fluid text-center">  

  <ul class="p-0 mb-1 small">
    {% for item in site.data.menus.footermenu %}
    <li>
      <a href="{% unless item.external %}{{site.baseurl}}/{% endunless %}{{item.url}}" alt="{{item.title}}">{{item.title}}</a>
    </li>
    {% endfor %}
    </ul>

</footer>

<!-- JavaScript
================================================== -->    
<script src="{{ site.baseurl }}/assets/js/jquery.min.js"></script>
<script src="{{ site.baseurl }}/assets/js/bootstrap.min.js"></script>
<script src="{{ site.baseurl }}/assets/js/theme.js"></script>
<script src="{{ site.baseurl }}/assets/js/infinite-scroll.js"></script>
<script src="{{ site.baseurl }}/assets/js/search.js"></script>

<!-- Featured Images Lazy Loading -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Apply lazy loading to featured post images
  const featuredImages = document.querySelectorAll('img[data-src]');

  if ('IntersectionObserver' in window) {
    const imageObserver = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const img = entry.target;
          img.src = img.dataset.src;
          img.removeAttribute('data-src');
          img.classList.add('loaded');
          observer.unobserve(img);
        }
      });
    });

    featuredImages.forEach(img => imageObserver.observe(img));
  } else {
    // Fallback for older browsers
    featuredImages.forEach(img => {
      img.src = img.dataset.src;
      img.removeAttribute('data-src');
      img.classList.add('loaded');
    });
  }
});
</script>

<!-- Documentation Layout Scripts -->
<script>
function toggleMobileSidebar() {
  const sidebar = document.querySelector('.docs-sidebar');
  sidebar.classList.toggle('mobile-open');
}

// Close sidebar when clicking outside on mobile
document.addEventListener('click', function(e) {
  const sidebar = document.querySelector('.docs-sidebar');
  const toggleButton = document.querySelector('.navbar-toggler');

  if (window.innerWidth <= 768 &&
      !sidebar.contains(e.target) &&
      !toggleButton.contains(e.target) &&
      sidebar.classList.contains('mobile-open')) {
    sidebar.classList.remove('mobile-open');
  }
});
</script>

</body>
    
</html>
